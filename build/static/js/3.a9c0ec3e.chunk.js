(this["webpackJsonpvestige-project"]=this["webpackJsonpvestige-project"]||[]).push([[3],{262:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(e){return r.a.createElement("svg",{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 492.004 492.004",style:e.style},r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M382.678,226.804L163.73,7.86C158.666,2.792,151.906,0,144.698,0s-13.968,2.792-19.032,7.86l-16.124,16.12\r c-10.492,10.504-10.492,27.576,0,38.064L293.398,245.9l-184.06,184.06c-5.064,5.068-7.86,11.824-7.86,19.028\r c0,7.212,2.796,13.968,7.86,19.04l16.124,16.116c5.068,5.068,11.824,7.86,19.032,7.86s13.968-2.792,19.032-7.86L382.678,265\r c5.076-5.084,7.864-11.872,7.848-19.088C390.542,238.668,387.754,231.884,382.678,226.804z"}))),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null))}},263:function(e,t,a){"use strict";var n=a(0),r=a.n(n);a(2);t.a=function(){return r.a.createElement("div",{className:"lds-dual-ring"})}},264:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=(a(2),function(e){return[r.a.createElement("img",{src:a(205)}),r.a.createElement("img",{src:a(192)}),r.a.createElement("img",{src:a(197)}),r.a.createElement("img",{src:a(195)}),r.a.createElement("img",{src:a(212)}),r.a.createElement("img",{src:a(194)}),r.a.createElement("img",{src:a(202)}),r.a.createElement("img",{src:a(193)}),r.a.createElement("img",{src:a(196)}),r.a.createElement("img",{src:a(198)}),r.a.createElement("img",{src:a(199)}),r.a.createElement("img",{src:a(200)}),r.a.createElement("img",{src:a(201)}),r.a.createElement("img",{src:a(203)}),r.a.createElement("img",{src:a(204)}),r.a.createElement("img",{src:a(207)}),r.a.createElement("img",{src:a(206)}),r.a.createElement("img",{src:a(208)}),r.a.createElement("img",{src:a(209)}),r.a.createElement("img",{src:a(210)}),r.a.createElement("img",{src:a(211)}),r.a.createElement("img",{src:a(213)}),r.a.createElement("img",{src:a(214)}),r.a.createElement("img",{src:a(191)}),r.a.createElement("img",{src:a(215)})]});t.a=function(e){return r.a.createElement("div",{className:"Brands"},r.a.createElement("div",{className:"Brands-golden-line"}),r.a.createElement("h3",null,"brendovi"),r.a.createElement("div",{className:"Brands-wrapper"},r.a.createElement(c,null)))}},265:function(e,t,a){"use strict";a.r(t);var n=a(11),r=a(1),c=a(0),i=a.n(c),l=a(5),o=a.n(l),u=(a(2),a(24)),s=a(262),m=function(e){var t=Object(c.useState)(!0),a=Object(r.a)(t,2),n=a[0],l=a[1];Object(c.useMemo)((function(){e.isActiveDescription.active||l(null)}),[e.isActiveDescription.active]);var o={width:10,height:10,fill:"rgba(0, 0, 0, .7)",transition:"all .12s ease-in-out",cursor:"pointer",transform:n?"rotate(90deg)":"rotate(0)"};return i.a.createElement("div",{onClick:function(){return e.setisActiveDescription(n),void l(!n)},className:"Filter-Item"},i.a.createElement("p",null," ",e.text," "),i.a.createElement(s.a,{style:o}))},f=function(e){return i.a.createElement("svg",{style:e.style,id:"Capa_1","enable-background":"new 0 0 512 512",viewBox:"0 0 512 512"},i.a.createElement("g",null,i.a.createElement("path",{d:"m450.585 68.552-252.065 252.065-137.105-137.104-61.415 61.415 198.52 198.52 313.48-313.48z"})))},g=function(e){var t=Object(c.useState)({active:null,category:""}),a=Object(r.a)(t,2),l=a[0],o=a[1],s=[];e.parfumData&&e.parfumData.forEach((function(e){return s.push(e.brand)}));var g=[].concat(s),p=[{category:"sex",name:"SPOL",options:["mu\u0161ki","\u017eenski"]},{category:"category",name:"KATEGORIJA",options:["100ml","55ml"]},{category:"sort",name:"SORTIRAJ",options:["Najpopularniji","Najbolje ocjenjeni","Najjeftiniji","Najskuplji"]},{category:"brand",name:"BREND",options:(s.forEach((function(e,t){var a=0,n=null;g.forEach((function(t,r){e===t&&(a++,n=t)})),a>1&&g.forEach((function(e,t){e===n&&a>0&&g.splice(t,1)}))})),g)}],E=function(e,t){var a=Object(u.a)({},l);a.category=e,a.active=!t,o(a)},d=p.map((function(e,t){return i.a.createElement(m,{text:e.name,key:t,isActiveDescription:l,setisActiveDescription:function(t){return E(e.category,t)}})})),v=[];v[0]=e.sorts,v[1]=e.parfCategory,e.filterData.forEach((function(e){var t=null,a=null;p.forEach((function(e){return"sort"===e.category?t=Object(n.a)(e.options):null})),p.forEach((function(e){return"brand"===e.category?a=Object(n.a)(e.options):null})),v.forEach((function(n){t.forEach((function(t){return!e.option===t?v.push(null):null})),a.forEach((function(t){return e.option===t?v.push(t):null}))}))}));var h=p.find((function(e){return l.category===e.category})),b=null;h&&(b=h.options.map((function(t,a){var n={transition:"all .15s ease-in-out"},r=null,c={width:10,height:10,color:"rgba(0, 0, 0, .7)",position:"absolute",right:"15%"};v.forEach((function(e){t===e&&(n.backgroundColor="#eee",r=i.a.createElement(f,{style:c}))}));var s=Object(u.a)({},l);return i.a.createElement("div",{onClick:function(){return s.active=null,o(s),e.setFiltering(h.category,t),void("#eee"===n.backgroundColor&&e.removeFilter(t))},style:n,key:a,className:"Filter-options__option"},i.a.createElement("p",null," ",t," "),r)})));var j={display:l.active?"block":"none"};return i.a.createElement("div",{className:"Filter"},i.a.createElement("div",{className:"Filter-filters"},d),i.a.createElement("div",{style:j,className:"Filter-options"},b))},p=a(15),E=function(e){return i.a.createElement("div",{style:e.style,onClick:function(){e.click()},className:"ThirdButton"}," ",e.text," ")},d=function(e){var t=e.img,n=(e.price,Object(p.a)(e.price,e.country)),r={fontSize:11,letterSpacing:.8},c=e.router,l={activePrice:{price:e.price,ml:e.parfCategory,discount:"0"},parfumData:e.parfum},o="KM";return"BA"!==e.country&&(o="\u20ac"),i.a.createElement("div",{className:"ParfumPreview"},i.a.createElement("div",{className:"ParfumPreview-discount"},"-30%"),i.a.createElement("div",{className:"ParfumPreview-image"},i.a.createElement("img",{src:a(37)("./".concat(t,".png"))})),i.a.createElement("p",{className:"ParfumPreview-brand"},e.brand),i.a.createElement("p",{className:"ParfumPreview-name"}," ",e.nameUI," "),i.a.createElement("h3",{className:"ParfumPreview-price"}," ",n," ",o," "),i.a.createElement("div",{className:"ParfumPreview-buttons"},i.a.createElement(E,{click:function(){return t=e.route,void c.history.push("".concat(t));var t},style:r,text:"PREGLED"}),i.a.createElement(E,{click:function(){return e.updateCart(),void e.addToLocalStorage(l)},style:r,text:"KUPI"})))},v=a(263),h=function(e){if(e.parfumData){var t;return t=e.parfumData.map((function(t,a){return i.a.createElement(d,{country:e.country,parfum:t,addToLocalStorage:e.addToLocalStorage,updateCart:e.updateCart,router:e.route,price:t.categoryPrice,route:t.names.route,brand:t.brand,img:t.names.img,nameUI:t.names.UI,parfCategory:e.parfCategory,key:a})})),i.a.createElement("main",{className:"CataloguePreview",style:{height:e.parfumData?"max-content":"100vh"}},t)}return i.a.createElement("main",{className:"CataloguePreview",style:{height:e.parfumData?"max-content":"100vh"}},i.a.createElement("div",null," ",i.a.createElement(v.a,null),"  "))},b=function(e){return e.text?e.diff?null:i.a.createElement("div",{onClick:function(){return"..."!==e.text?e.changePage(e.text):null},className:"PaginationButton",style:e.style},e.text):null},j=a(182),y=function(e){var t,a=e.page,n=function(e,t){return Math.abs(e-t)},r=e.numOfPages,c=(n(a,r),n(a,r));t=c<=2?[r-2,r-1,r]:[a,a+1,a+2];var l=[{text:1,diff:!(c<3&&e.numOfPages>3)||null},{text:"...",diff:!(c<3&&e.numOfPages>3)||null,dots:!0},{text:e.numOfPages>2?t[0]:null},{text:t[1]},{text:t[2]},{text:"...",diff:c<3||null,dots:!0},{text:r,func:r,diff:c<3||null}].map((function(t,n){var r={backgroundColor:t.text===a?"rgb(231, 228, 228)":""};return t.dots&&(r={backgroundColor:"transparent",border:"none",padding:5}),i.a.createElement(b,{changePage:e.changePage,text:t.text,func:t.func,key:n,style:r,diff:t.diff})}));return i.a.createElement("div",{className:"Pagination"},a>1?i.a.createElement("div",{style:{cursor:"pointer"},onClick:function(){return e.changePage(a-1)},className:"Pagination-arrows"},i.a.createElement(j.a,{style:{width:12,height:12,fill:"#333",flex:1.5}})):null,l,a<r?i.a.createElement("div",{style:{cursor:"pointer"},onClick:function(){return e.changePage(a+1)},className:"Pagination-arrows"},i.a.createElement(j.a,{style:{width:12,height:12,fill:"#333",transform:"rotate(180deg)"}})):null)},O=a(264),P=(a(38),a(6)),N=a(9);t.default=Object(P.b)(null,(function(e){return{addToLocalStorage:function(t){return e(N.b(t))},updateCart:function(){return e(N.c())}}}))((function(e){var t=Object(c.useState)(null),a=Object(r.a)(t,2),l=a[0],u=a[1],s=Object(c.useState)(),m=Object(r.a)(s,2),f=(m[0],m[1],Object(c.useState)([])),p=Object(r.a)(f,2),E=p[0],d=p[1],v=Object(c.useState)("Najpopularniji"),b=Object(r.a)(v,2),j=b[0],P=b[1],N=Object(c.useState)("100ml"),k=Object(r.a)(N,2),w=k[0],x=k[1],C=Object(c.useState)(1),S=Object(r.a)(C,2),D=S[0],L=S[1],T=Object(c.useState)(null),A=Object(r.a)(T,2),B=A[0],F=A[1],I=localStorage.getItem("country");Object(c.useEffect)((function(){window.scrollTo(0,0),F(I),console.log(I);var e="BA"!==I?"serbiaPerfums":"perfums";console.log(e),o.a.get("https://vestige-2172c.firebaseio.com/".concat(e,".json")).then((function(e){var t=Object.values(e.data);console.log(t),_(t)})).catch((function(e){return console.log(e)}))}),[e.route.location.pathname]);var M=e.route.location.pathname;Object(c.useMemo)((function(){M.includes("55ml")?x("55ml"):M.includes("100ml")&&x("100ml")}),[e.route.match.path]);var R=+e.route.match.params.id;Object(c.useEffect)((function(){L(R)}),[R]);var J=function(t){console.log(t);var a=U(t);e.route.history.push(a),window.scrollTo(null,0)},U=function(t){var a=e.route.match.path.split("page=");return a[1]=t,a.join("page=")},_=function(e){var t=K(e);u(t)},z=e.route.location.pathname,K=function(e){if(z.startsWith("/originalni-testeri"))return e;if(z.startsWith("/mu\u0161ki-testeri")){var t=[];return e.forEach((function(e){return"men"===e.sex?t.push(e):null})),[].concat(t)}if(z.startsWith("/\u017eenski-testeri")){var a=[];return e.forEach((function(e){return"women"===e.sex?a.push(e):null})),[].concat(a)}},W=[];!function(e){l&&l.forEach((function(t,a){e.forEach((function(e,a){t.brand===e.option&&W.push(t)}))}))}(E);var G=null;if(l){W.length>0?G=[].concat(W):l&&(G=Object(n.a)(l)),"Najpopularniji"===j?G.sort((function(e,t){return e.bought-t.bought})).reverse():"Najbolje ocjenjeni"===j?G.sort((function(e,t){return e.rated-t.rated})).reverse():"Najskuplji"===j?G.sort((function(e,t){return+e.price.big.price-+t.price.big.price})).reverse():"Najjeftiniji"===j&&G.sort((function(e,t){return+e.price.medium.price-+t.price.medium.price}))}var q=[],H=[],Q=null,V=null;return G&&(G=function(e){var t=[];return e.forEach((function(e){if("100ml"===w&&0!=e.price.big.price){var a=e.price.big;e.categoryPrice=a.discount?a.discount:a.price,t.push(e)}else if("55ml"===w&&0!=e.price.medium.price){var n=e.price.medium;e.categoryPrice=n.discount?n.discount:n.price,t.push(e)}})),t}(G),G=(G=function(e){for(var t=0;t<100*D;t++){var a=e.splice(0,12);q.push(a)}return q.forEach((function(e){return e.length>0?H.push(e):null})),H}(Object(n.a)(G)))[D-1],D>1&&(Q=i.a.createElement(y,{page:D,numOfPages:H.length,changePage:J})),V=G.length>11?i.a.createElement(y,{page:D,numOfPages:H.length,changePage:J}):null),i.a.createElement("div",{className:"Catalogue"},i.a.createElement(g,{setFiltering:function(e,t){var a=Object(n.a)(E);"mu\u0161ki"===t?window.location.href="/mu\u0161ki-testeri-55ml/page=1":"\u017eenski"===t&&(window.location.href="/\u017eenski-testeri-55ml/page=1"),"sort"===e&&P(t),"category"===e&&x(t);var r=!0;E.forEach((function(e,a){e.option===t&&(r=!1)})),r&&(a.push({category:e,option:t}),d(a))},filterData:E,sorts:j,removeFilter:function(e){var t=Object(n.a)(E);t.forEach((function(a,n){a.option===e&&(t.splice(n,1),d(t))}))},parfumData:l||null,parfCategory:w}),Q,i.a.createElement(h,{country:B,page:D,addToLocalStorage:e.addToLocalStorage,route:e.route,parfumData:G,parfCategory:w,updateCart:e.updateCart}),V,i.a.createElement("div",{className:"Catalogue-connect"},i.a.createElement(O.a,null)))}))}}]);
//# sourceMappingURL=3.a9c0ec3e.chunk.js.map